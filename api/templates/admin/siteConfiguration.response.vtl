#if ($context.error.type == "DynamoDB:ConditionalCheckFailedException")
    $util.error(
        "A version check has failed. Check that you are using the most up to date version for the source value",
        "VersionCheckFailed"
    )
#end

#set($defaultColor = "#6284FD")

#set($data = {
    "highlightColor": $util.defaultIfNull($context.result.highlightColor, $defaultColor),
    "buttonColor": $util.defaultIfNull($context.result.buttonColor, $defaultColor),
    "logoImage": $context.result.logoImage,
    "headerColor": $util.defaultIfNull($context.result.headerColor, $defaultColor),
    "version": $util.defaultIfNull($context.result.version, 1)
})

$util.toJson($data)
